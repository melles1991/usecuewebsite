{% assign hexRed = '#e53935' %}
{% assign hexOrange = '#fb8c00' %}
{% assign hexGreen = '#18b663' %}

{% assign scores = include.score | split: "," %}
{% for percentage in scores %}
    {% assign percentage_number = percentage | strip | plus: 0 %}
    {% if percentage_number < 50 %}{% assign color = hexRed %}
    {% elsif percentage_number < 90' %}{% assign color = hexOrange %}
    {% else %}{% assign color = hexGreen %}
    {% endif %}
    {% if forloop.index == 1 %}
        {% assign conic1 = color | append: ' conic-gradient(' | append: color | append: ' ' | append: percentage_number | append: '%, rgba(255,255,255,0.8) 0)' %}
        {% assign percentage1 = percentage_number %}
        {% assign stylelabel1 = 'font-weight: bold; color: ' | append: color %}
    {% endif %}
    {% if forloop.index == 2 %}
        {% assign conic2 = color | append: ' conic-gradient(' | append: color | append: ' ' | append: percentage_number | append: '%, rgba(255,255,255,0.8) 0)' %}
        {% assign percentage2 = percentage_number %}
        {% assign stylelabel2 = 'font-weight: bold; color: ' | append: color %}
    {% endif %}
    {% if forloop.index == 3 %}
        {% assign conic3 = color | append: ' conic-gradient(' | append: color | append: ' ' | append: percentage_number | append: '%, rgba(255,255,255,0.8) 0)' %}
        {% assign percentage3 = percentage_number %}
        {% assign stylelabel3 = 'font-weight: bold; color: ' | append: color %}
    {% endif %}
    {% if forloop.index == 4 %}
        {% assign conic4 = color | append: ' conic-gradient(' | append: color | append: ' ' | append: percentage_number | append: '%, rgba(255,255,255,0.8) 0)' %}
        {% assign percentage4 = percentage_number %}
        {% assign stylelabel4 = 'font-weight: bold; color: ' | append: color %}
    {% endif %}
{% endfor %}

<style>
    /* pagespeed */
    #pagespeed_score {padding-top: 25px; border: 1px solid #eee;}
    #pagespeed_score .row {
        overflow: hidden;
        max-width: 350px;
        margin: 0 auto;
    }
    #pagespeed_score .col50 {
        float: left; 
        width: 50%;
        text-align: center;
    }
    #pagespeed_score .conicgradient {
        background: gray conic-gradient(gray 0%, rgba(255,255,255,0.8) 0);
        border-radius: 50%;
        position: relative;
        overflow: hidden;
        width: 60px;
        margin: 0 auto 25px;
    }
    #pagespeed_score .conicgradient_inner {
        width: 50px;
        padding-bottom: 50px;
        background: white;
        margin: 5px;
        border-radius: 50%;
        text-align: center;
    }
    #pagespeed_score .conicgradient_inner .label {
        position: absolute;
        top: 50%;
        -webkit-transform: translateY(-50%);
        -ms-transform: translateY(-50%);
        transform: translateY(-50%);
        font-size: 20px;
        color: gray;
        width: 84%;
    }
    #pagespeed_score h2 {margin-top: 0!important; margin-bottom: 5px;}
</style>

<div id="pagespeed_score" class="results">
    <div class="row">
        <div class="col50">

            <h2>Performance</h2>

            <div class="conicgradient" style="background: {{ conic1 }};">
                <div class="conicgradient_inner">
                    <div class="performance_score label" style="{{ stylelabel1 }}">{{ percentage1 }}</div>
                </div>
            </div>

        </div><div class="col50">

            <h2>Accessibility</h2>

            <div class="conicgradient" style="background: {{ conic2 }};">
                <div class="conicgradient_inner">
                    <div class="accessibility_score label" style="{{ stylelabel2 }}">{{ percentage2 }}</div>
                </div>
            </div>

        </div></div>

            <div class="row">
            <div class="col50">

            <h2>Best Practices</h2>

            <div class="conicgradient" style="background: {{ conic3 }};">
                <div class="conicgradient_inner">
                    <div class="bestpractices_score label" style="{{ stylelabel3 }}">{{ percentage3 }}</div>
                </div>
            </div>

        </div><div class="col50">

            <h2>SEO</h2>

            <div class="conicgradient" style="background: {{ conic4 }};">
                <div class="conicgradient_inner">
                    <div class="seo_score label" style="{{ stylelabel4 }}">{{ percentage4 }}</div>
                </div>
            </div>

        </div>
    </div>
</div>